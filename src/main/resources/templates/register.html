<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>íšŒì›ê°€ì…</title>
    <meta charset="UTF-8">
	<link rel="stylesheet" th:href="@{/css/register.css}">
	<script src="https://kit.fontawesome.com/20dab02d7e.js" crossorigin="anonymous"></script>
	<script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>
<script>
    function togglePassword() {
        const passwordInput = document.getElementById("password");
        const icon = document.querySelector(".toggle-password");
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            icon.textContent = "ğŸ™ˆ"; // ëˆˆ ê°ì€ ì´ëª¨ì§€
        } else {
            passwordInput.type = "password";
            icon.textContent = "ğŸ‘ï¸";
        }
    }
	function searchAddress() {
        new daum.Postcode({
            oncomplete: function(data) {
                document.getElementById("address").value = data.address;
            }
        }).open();
    }
	function execDaumPostcode() {
	    new daum.Postcode({
	        oncomplete: function(data) {
	            // ë„ë¡œëª… ì£¼ì†Œ or ì§€ë²ˆ ì£¼ì†Œ
	            var addr = data.roadAddress || data.jibunAddress;
	            document.getElementById("address").value = addr;
	        }
	    }).open();
	}
</script>
<body>
	<div class="form-container">
		<div class="title-and-error">
		    <h1>íšŒì›ê°€ì…</h1>
		    <div class="error-message" th:if="${error}" th:text="${error}"></div>
		</div>
		<form th:action="@{/register}" method="post" enctype="multipart/form-data">
			<div class="form-group">
			    <i class="fa-solid fa-user input-icon"></i>
			    <input type="text" name="userId" th:value="${userId}" placeholder="ì•„ì´ë””" required>
			</div>

			<div class="form-group password-group">
			    <i class="fa-solid fa-lock input-icon"></i>
			    <input type="password" name="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
			    <span class="toggle-password" onclick="togglePassword()">ğŸ‘ï¸</span>
			</div>

			<div class="form-group">
			    <i class="fa-solid fa-user input-icon"></i>
			    <input type="text" name="userName" th:value="${userName}" placeholder="ì´ë¦„" required>
			</div>

			<div class="form-group">
			    <i class="fa-solid fa-smile input-icon"></i>
			    <input type="text" name="nickname" th:value="${nickname}" placeholder="ë‹‰ë„¤ì„" required>
			</div>

			<div class="form-group">
			    <i class="fa-solid fa-envelope input-icon"></i>
			    <input type="email" name="email" th:value="${email}" placeholder="ì´ë©”ì¼" required>
			</div>

			<div class="form-group">
			    <i class="fa-solid fa-phone input-icon"></i>
			    <input type="text" name="userPhone" th:value="${userPhone}" placeholder="ì „í™”ë²ˆí˜¸" required>
			</div>

			<div class="form-group address-group">
			  <i class="fa-solid fa-house input-icon"></i>
			  <input type="text" name="userAddress" id="address" placeholder="ì£¼ì†Œ" th:value="${userAddress}" readonly required>
			  <button type="button" class="address-btn" onclick="execDaumPostcode()">ì£¼ì†Œ ê²€ìƒ‰</button>
			</div>

			<div class="form-group">
			  <i class="fa-solid fa-location-dot input-icon"></i>
			  <input type="text" name="userAddressDetail" placeholder="ìƒì„¸ ì£¼ì†Œ" th:value="${userAddressDetail}">
			</div>

			<div class="form-group">
				<i class="fa-solid fa-folder-open input-icon"></i>
			    <input type="file" name="profileImage" accept="image/*" required>
			</div>

			<div class="form-group">
			    <i class="fa-solid fa-right-to-bracket input-icon"></i>
			    <input type="text" name="socialLoginProvider" th:value="${socialLoginProvider}" placeholder="ì¶”ì²œì¸" required>
			</div>

			<div class="form-group">
			    <button class="reg-btn" type="submit">ê°€ì…í•˜ê¸°</button>
			</div>
        </form>
	</div>
</body>
</html>
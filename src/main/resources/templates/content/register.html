<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>íšŒì›ê°€ì…</title>
<meta charset="UTF-8">
	<link rel="stylesheet" th:href="@{/css/register.css}">
	<script src="https://kit.fontawesome.com/20dab02d7e.js" crossorigin="anonymous"></script>
	<script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>
<body>
	<div class="form-container">
		<div class="title-and-error">
			<h1>íšŒì›ê°€ì…</h1>
			<div class="error-message" th:if="${error}" th:text="${error}"></div>
		</div>
		<form th:action="@{/content/register}" method="post" 
			enctype="multipart/form-data">
			<div class="form-group">
				<i class="fa-solid fa-user input-icon"></i> <input type="text" name="userId" th:value="${userId}" 
				placeholder="ì•„ì´ë””" pattern="[a-zA-Z0-9]+" title="ì•„ì´ë””ëŠ” ì˜ë¬¸ìì™€ ìˆ«ìë§Œ ì…ë ¥í•  ìˆ˜ ìˆì–´ìš”" maxlength="15" required>
			</div>

			<div class="form-group password-group">
				<i class="fa-solid fa-lock input-icon"></i> <input type="password" name="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸" maxlength="20" required>
				<span class="toggle-password" onclick="togglePassword('password', this)">ğŸ‘ï¸</span>
			</div>
			
			<div class="form-group password-group">
			    <i class="fa-solid fa-lock input-icon"></i>
			    <input type="password" id="confirmPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" maxlength="20" required>
			    <span class="toggle-password" onclick="togglePassword('confirmPassword', this)">ğŸ‘ï¸</span>
			</div>

			<div class="form-group">
				<i class="fa-solid fa-user input-icon"></i> <input type="text" name="userName" th:value="${userName}"
				placeholder="ì´ë¦„" pattern="[ê°€-í£a-zA-Z\s]+" title="ì´ë¦„ì€ í•œê¸€ê³¼ ì˜ë¬¸ìë§Œ ì…ë ¥í•  ìˆ˜ ìˆì–´ìš”" maxlength="10" required>
			</div>

			<div class="form-group">
				<i class="fa-solid fa-smile input-icon"></i> <input type="text" name="nickname" th:value="${nickname}" 
				placeholder="ë‹‰ë„¤ì„" pattern="[ê°€-í£a-zA-Z0-9\s]+" title="ë‹‰ë„¤ì„ì—ëŠ” íŠ¹ìˆ˜ë¬¸ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤" maxlength="20" required>
			</div>

			<div class="form-group email-group">
				<i class="fa-solid fa-envelope input-icon"></i>
				<input type="text" id="email_id" th:value="${emailId}" placeholder="ì´ë©”ì¼" pattern="[a-zA-Z0-9]+" title="ì´ë©”ì¼ì€ ì˜ë¬¸ìì™€ ìˆ«ìë§Œ ì…ë ¥í•  ìˆ˜ ìˆì–´ìš”" maxlength="20" required>
			  
				<span class="email-at">@</span>
			    
				<input type="text" id="email_domain_input" th:value="${emailDomain}" placeholder="ë„ë©”ì¸" readonly>
				<select id="email_domain_select" onchange="handleEmailDomainChange(this)">
				    <option value="" disabled selected>ì„ íƒ</option>
				    <option value="naver.com">naver.com</option>
				    <option value="gmail.com">gmail.com</option>
				    <option value="daum.net">daum.net</option>
				    <option value="nate.com">nate.com</option>
				    <option value="hanmail.net">hanmail.net</option>
				    <option value="direct">ì§ì ‘ì…ë ¥</option>
				</select>

				<!-- ìµœì¢… ì´ë©”ì¼ hidden -->
				<input type="hidden" name="email" id="full_email">
			</div>
			<!-- ì¸ì¦ ì½”ë“œ ì…ë ¥ -->
			<div class="form-group verification-group">
			  <div class="input-with-button">
			    <i class="fa-solid fa-key input-icon"></i>
			    <input type="text" id="emailCode" placeholder="ì¸ì¦ ì½”ë“œ 6ìë¦¬" pattern="\d{6}" maxlength="6" required>
			    <button type="button" class="verify-btn" onclick="verifyEmailCode()">ì´ë©”ì¼ ì¸ì¦</button>
			  </div>
			
			  <!-- ê²°ê³¼ ë©”ì‹œì§€ (ì•„ë˜ì— ì¶œë ¥) -->
			  <div id="email-verify-result" class="verify-result"></div>
			</div>
			
			<!-- ìˆ¨ê²¨ì§„ email ì „ì²´ ì£¼ì†Œ ë° ì¸ì¦ ì™„ë£Œ ì—¬ë¶€ -->
			<input type="hidden" id="full_email" name="email">
			<input type="hidden" id="emailVerified" name="emailVerified" value="false">
			
			
			
			<div class="form-group">
				<i class="fa-solid fa-phone input-icon"></i> <input type="text" name="userPhone" th:value="${userPhone}"
				 placeholder="ì „í™”ë²ˆí˜¸" pattern="[0-9\-]+" title="ìˆ«ìì™€ (-)ë§Œ ì…ë ¥í•˜ì„¸ìš”" maxlength="13" required>
			</div>


<!--			<div class="form-group">
				<i class="fa-solid fa-folder-open input-icon"></i> <input type="file" name="profileImage" accept="image/*" required>
			</div>
			-->
			<div class="form-group file-upload-group">
			  <i class="fa-solid fa-folder-open input-icon"></i>

			  <!-- ìˆ¨ê²¨ì§„ ì§„ì§œ íŒŒì¼ input -->
			  <input type="file" id="profileImage" name="profileImage" accept="image/*" hidden>

			  <!-- ì‚¬ìš©ìê°€ í´ë¦­í•˜ëŠ” ì»¤ìŠ¤í…€ ë²„íŠ¼ -->
			  <label for="profileImage" class="custom-file-label">í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ</label>

			  <!-- ì„ íƒëœ íŒŒì¼ëª… ë³´ì—¬ì£¼ê¸° -->
			  <span id="file-name-display" class="file-name">ì´ë¯¸ì§€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</span>
			</div>
			
			<div class="form-group">
				<button class="reg-btn" type="submit">ê°€ì…í•˜ê¸°</button>
			</div>
		</form>
	</div>
	<script src="/js/register.js"></script>
</body>
</html>
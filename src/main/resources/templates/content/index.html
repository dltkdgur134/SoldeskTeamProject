<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/Layouts}">
<head>
	<script th:src="@{/js/index.js}"></script>
	<link th:href="@{/css/index.css}" rel="stylesheet" />
	<link th:href="@{/css/custom.css}" rel="stylesheet" />
</head>

<div layout:fragment="content">
<!-- rider 등록 관련 alert  -->
	<div th:if="${riderSuccess}" class="alert alert-success" role="alert"
		style="margin-bottom: 20px;">
		<span th:text="${riderSuccess}"></span>
	</div>
	<div th:if="${riderExists}" class="alert alert-danger text-center" role="alert"
     style="margin-bottom: 20px;" id="riderAlert">
     
    <div class="d-flex justify-content-center align-items-center flex-wrap">
        <span id="alertText" style="margin-right: 10px;">이미 라이더로 등록된 사용자입니다.</span>

        <!-- rider alert 버튼 그룹 -->
        <span id="riderChoice" style="display: none;">
            <button onclick="goToRiderPage()" class="btn btn-sm btn-primary me-1">Y</button>
            <button onclick="hideRiderChoice()" class="btn btn-sm btn-secondary">N</button>
        </span>
    </div>
</div>
	<div class="alert alert-success" id="flash-messages" role="alert" th:if="${result} == 0">
		<i class="fa-solid fa-circle-check"></i>  <strong th:text="${resultMsg}"></strong>
	</div>
	<div class="alert alert-danger" id="flash-messages" role="alert" th:if="${result} == 1">
		<i class="fa-solid fa-circle-exclamation"></i>  <strong th:text="${resultMsg}"></strong>
	</div>
<script>
  setTimeout(function() {
    document.getElementById('alertText').textContent = '라이더 페이지로 이동하시겠습니까?';
    document.getElementById('riderChoice').style.display = 'inline';
  }, 2000);

  function goToRiderPage() {
    window.location.href = '/rider/home'; // 실제 경로로 수정
  }

  function hideRiderChoice() {
    document.getElementById('riderAlert').style.display = 'none';
  }
</script>
	
	<!-- 점주 등록 관련 alert -->
<div th:if="${ownerExists}" class="alert alert-danger text-center" role="alert"
     style="margin-bottom: 20px;" id="ownerAlert">
     
    <div class="d-flex justify-content-center align-items-center flex-wrap">
        <span id="alertText" style="margin-right: 10px;">이미 점주로 등록된 사용자입니다.</span>
<!-- owner alert 버튼 그룹 -->
<span id="ownerChoice" style="display: none;">
    <button onclick="goToOwnerPage()" class="btn btn-sm btn-primary me-1">Y</button>
    <button onclick="hideOwnerChoice()" class="btn btn-sm btn-secondary">N</button>
</span>	
    </div>
</div>

<script>
  setTimeout(function() {
    document.getElementById('alertText').textContent = '점주 페이지로 이동하시겠습니까?';
    document.getElementById('ownerChoice').style.display = 'inline';
  }, 2000);

  function goToOwnerPage() {
    window.location.href = '/owner/home'; // 실제 점주 메인 페이지 경로로 수정
  }

  function hideOwnerChoice() {
    document.getElementById('ownerAlert').style.display = 'none';
  }
</script>


  <div class="d-flex flex-column align-items-center px-5 w-100" sec:authorize="isAnonymous()">
    
    <!-- 검색창 전체 래퍼 -->
    <div id="search-wrapper" class="w-100 d-flex justify-content-center align-items-center mt-3">
      <!-- 주소 다시 입력 버튼 (처음엔 숨김) -->
      <button id="reenter-address-btn" class="btn btn-outline-secondary me-2" style="display:none;">주소 다시 입력</button>

      <div class="search">
        <input id="main-input" type="text" class="search-input" placeholder="배달받을 주소를 입력하세요">
        <a href="#" class="search-icon" id="main-btn"><i class="fa fa-search"></i></a>
      </div>
    </div>
  </div>
	<div class="gallery-container">
		<div>
			<a th:href="@{/list(category='fastfood')}">
				<img src="/css/imgs/img1.png" alt="패스트푸드" class="imgs">
				<span class="labels">패스트푸드</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='cn')}">
				<img src="/css/imgs/img2.png" alt="중식" class="imgs">
				<span class="labels">중식</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='kr')}">
				<img src="/css/imgs/img3.png" alt="한식" class="imgs">
				<span class="labels">한식</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='bunsik')}">
				<img src="/css/imgs/img4.png" alt="분식" class="imgs">
				<span class="labels">분식</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='chicken')}">
				<img src="/css/imgs/img5.png" alt="치킨" class="imgs">
				<span class="labels">치킨</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='pizza')}">
				<img src="/css/imgs/img6.png" alt="피자" class="imgs">
				<span class="labels">피자</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='jjimtang')}">
				<img src="/css/imgs/img7.png" alt="찜탕" class="imgs">
				<span class="labels">찜·탕</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='jp')}">
				<img src="/css/imgs/img8.png" alt="일식" class="imgs">
				<span class="labels">일식</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='roast')}">
				<img src="/css/imgs/img9.png" alt="구이" class="imgs">
				<span class="labels">구이</span>
			</a>
		</div>
		<div>
			<a th:href="@{/list(category='caffe')}">
				<img src="/css/imgs/img10.png" alt="카페" class="imgs">
				<span class="labels">카페</span>
			</a>
		</div>
<!--		<div>
			<a href="#" class="labels">카페</a><img class="imgs"
				th:src="@{/css/imgs/img10.png}">
		</div>-->
	</div>
	</div>
</html>
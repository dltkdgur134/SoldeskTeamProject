<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/Layouts}">
<head>
	<link th:href="@{/css/custom.css}" rel="stylesheet" />
	<link th:href="@{/css/favorties/favorites.css}" rel="stylesheet"/>
	<script src="@{/js/favorites.js}"></script>
</head>
	
<body>
	
	<!-- templates/favorite/favorite-list.html -->
	<div layout:fragment="content" id="favorite-area">

	  <!-- 비어있을 때 안내 -->
	  <p class="favorite-empty" 
	     th:if="${#lists.isEmpty(favoriteStores)}">
	      아직 찜한 매장이 없습니다 &#128148;
	  </p>

	  <!-- 찜 목록 -->
	  <ul class="favorite-list"
	      th:unless="${#lists.isEmpty(favoriteStores)}">

	    <!-- ★ 각각의 매장 카드 -->
	    <li class="favorite-item"
	        th:each="store : ${favoriteStores}">
	      <a class="favorite-link"
	         th:href="@{/store/view/{id}(id=${store.id})}">

	        <!-- 썸네일 -->
	        <img class="favorite-img"
	             th:src="${store.imageUrl}"
	             th:alt="${store.name}"/>

	        <!-- 정보 영역 -->
	        <div class="favorite-info">
	          <h3 class="store-title" 
	              th:text="${store.name}">마카나이</h3>

	          <!-- 평점·리뷰 -->
	          <div class="store-meta">
	            <span class="star">&#11088;</span>
	            <span class="rating"
	                  th:text="${#numbers.formatDecimal(store.avgRating,1,1)}">4.5</span>
	            <span class="review"
	                  th:text="|리뷰 ${store.reviewCount}|">리뷰 245</span>
	          </div>

	          <!-- 한 줄 소개(카테고리·대표메뉴) -->
	          <p class="store-desc" 
	             th:text="${store.summary}">매운 돈코츠 라멘, 차슈 덮밥</p>

	          <!-- 할인 배지 (있을 때만) -->
	          <p class="store-discount"
	             th:if="${store.discountText != null}"
	             th:text="${store.discountText}">2,000원 할인</p>

	          <!-- 퀵배달 배지 -->
	          <span class="store-badge"
	                th:if="${store.express}"
	                >익스프레스</span>
	        </div>

	        <!-- 하트 아이콘 – 이미 찜된 상태라 filled -->
	        <button type="button"
	                class="heart-btn active"
	                aria-label="찜 해제"
	                th:data-id="${store.id}">
	          <i class="fa-solid fa-heart"></i>
	        </button>
	      </a>
	    </li>
	  </ul>
	</div>

</body>

</html>
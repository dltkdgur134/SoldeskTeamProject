<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/Layouts}">
<head>
	<link th:fragment="css" th:href="@{/css/index.css}" rel="stylesheet"/>
	<link th:fragment="css" th:href="@{/css/custom.css}" rel="stylesheet"/>
	<link th:fragment="css" th:href="@{/css/orderHistory.css}" rel="stylesheet"/>
  	<!-- Chart.js -->
  	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
<section layout:fragment="content">
  <h1>주문 상세</h1>
  <div class="card info-card p-4">
  	<div class="card w-100 text-start p-4">
  		<strong class="status" th:text="${order.orderStatus}"></strong>
  		<div class="order-basic-detail">주문일시 <small th:text="${#temporals.format(order.orderDate, 'yyyy년 MM월 dd일 a hh시 mm분')}"></small></div>
  		<div class="order-basic-detail">주문번호 <small th:text="${order.orderId}"></small></div>
  		<hr>
  		<div>
  			<img th:src="${order.storeImageUrl}" class="img-fluid rounded-circle" alt="매장 이미지" th:if="${order.storeImageUrl != null}"/>
	    	<img th:src="@{/img/store/storeimg/default_img.jpg}" class="img-fluid rounded-circle" alt="기본 이미지" th:if="${order.storeImageUrl == null}"/>
  			<a th:href="@{/store/view/{storeId}(storeId=${order.storeId})}" class="icon-link icon-link-hover ms-2">
				<strong class="store-name" th:text="${order.storeName}">가게 이름</strong>
				<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
					class="bi bi-chevron-right" viewBox="0 0 16 16" aria-hidden="true">
		  			<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6
		  				6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
				</svg>
	   		</a>
  		</div>
	  	
	  	<ul class="nav nav-pills my-3" id="pills-tab" role="tablist">
		<li class="nav-item me-2" role="presentation">
			<button class="nav-link active" id="pills-order-tab" data-bs-toggle="pill"
				data-bs-target="#pills-order" type="button" role="tab"
				aria-controls="pills-order" aria-selected="true">주문 메뉴</button>
		</li>
		<li class="nav-item me-2" role="presentation">
			<button class="nav-link" id="pills-payment-tab"
				data-bs-toggle="pill" data-bs-target="#pills-payment" type="button"
				role="tab" aria-controls="pills-payment" aria-selected="false">결제 정보</button>
		</li>
		<li class="nav-item me-2" role="presentation">
			<button class="nav-link" id="pills-delivery-tab" data-bs-toggle="pill"
				data-bs-target="#pills-delivery" type="button" role="tab"
				aria-controls="pills-delivery" aria-selected="false">배달 정보</button>
		</li>
	</ul>

		<div class="tab-content" id="pills-tabContent">
			<div class="tab-pane fade show active" id="pills-order" role="tabpanel"
				aria-labelledby="pills-order-tab" tabindex="0">
				<h5>주문 메뉴</h5>
				<div class="card p-4">
					<div th:each="item : ${order.menuItems}">
						<div th:text="${item.menuName}"></div>
						
						<div></div>
						<span th:text="${#numbers.formatInteger(item.price, 3, 'COMMA') + '원'}"></span> 
						<span th:text="${item.quantity + '개'}"></span> 
					</div>
				</div>
			</div>
		</div>
	</div>
	  	
  </div>
  
</section>
</body>
</html>
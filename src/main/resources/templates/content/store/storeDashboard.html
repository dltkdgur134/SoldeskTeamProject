<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- ★ 스크립트와 스타일은 fragment 로 따로 분리 (필요하면 한 번만 include) -->
    <th:block th:fragment="dashboard-head">
        <link  rel="stylesheet"
               th:href="@{/css/storeDashboard.css}" />
        <script defer th:src="@{/js/storeDashboard.js}"></script>
    </th:block>
</head>
<body>
<!-- ★ 주문 대시보드 전체를 하나의 fragment 로 묶음 -->
<section
      th:fragment="dashboard"
      class="dashboard-wrapper py-4 px-5"
    >

    <!--============== 주문 리스트 ==============-->
    <div id="orderList">
        <h3 class="mb-4">주문 리스트</h3>

        <div id="newOrdersArea"  class="p-3 mb-4 rounded shadow-sm bg-light">
            <h4 class="fw-bold text-success mb-3">신규 주문</h4>
            <ul id="newOrderList" class="list-unstyled m-0"></ul>
        </div>

        <div id="processingOrdersArea"  class="p-3 rounded shadow-sm bg-white">
            <h4 class="fw-bold text-primary mb-3">진행중 주문</h4>
            <ul id="processingOrderList" class="list-unstyled m-0"></ul>
        </div>

        <div id="deliveringOrdersArea" class="p-3 rounded shadow-sm bg-warning-subtle">
            <h4 class="fw-bold text-warning mb-3">배달중 주문</h4>
            <ul id="deliveringOrderList" class="list-unstyled m-0"></ul>
        </div>
        
        <div id="deliveringOrdersArea" class="p-3 rounded shadow-sm bg-warning-subtle">
            <h4 class="fw-bold text-warning mb-3">배달완료 주문</h4>
            <ul id="deliveredOrderList" class="list-unstyled m-0"></ul>
        </div>
    </div>

    <!--============== 주문 상세 ==============-->
    <div id="orderDetail">
        <h3 class="mb-4">주문 상세 <span id="detailOrderNumber" class="text-primary"></span></h3>
        <div class="mb-2">주문번호: <span id="detailOrderId"></span></div>
        <div class="mb-2">주소: <span id="detailAddress"></span></div>
        <div class="mb-2">상태: <span id="detailStatus"></span></div>
        <div class="mb-2">가게 요청사항: <span id="detailStoreRequest"></span></div>
        <div class="mb-2">배달 요청사항: <span id="detailDeliveryRequest"></span></div>
        <div class="mb-2">주문 금액: <span id="detailTotalPrice"></span></div>
        <div class="mb-2">배달료: <span id="detailDeliveryFee"></span></div>
        <div class="mb-2">할인 금액: <span style = "color : red;" id="discountAmount"></span></div>
		<div id="detailMenuList" class="mt-3"></div>
        <div class="mb-2">총 금액: <span id="totalPrice"></span></div>
        <div class="text-end mt-4">
            <button id="confirmBtn"      class="btn btn-outline-success btn-sm me-2 d-none">접수하기</button>
            <button id="cancelBtn"       class="btn btn-outline-danger  btn-sm me-2 d-none">주문취소</button>
            <button id="completeBtn"     class="btn btn-outline-primary btn-sm me-2 d-none">조리완료</button>
            <button id="startDeliveryBtn"class="btn btn-outline-warning btn-sm        d-none">배달시작</button>
        </div>

    </div>
	<!-- 채팅 창 -->
	<div id="chatPanel">
		<h3 class="mb-4">실시간 채팅</h3>
		<div id="chatMessages" class="chat-messages overflow-auto mb-2"></div>
		<div class="input-group">
			<input type="text" id="chatInput" class="form-control" placeholder="메시지를 입력하세요…" />
			<button id="sendChatBtn" class="btn btn-primary">전송</button>
		</div>
	</div>
    <!-- (✔︎) 모달구성 · 스크립트는 그대로 유지 -->
    <div th:replace="~{fragments/storeDashboard-modal :: modal}"></div>
</section>
</body>
</html>
